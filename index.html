<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- AI SEO & GEO - ARCHITECTURAL META TAGS -->
    <title>E-Prosper Academy‚Ñ¢ | Stop Chasing. Start Directing Your Legacy.</title>
    <meta name="description" content="Acquire 37+ years of elite intelligence. Master Online AI Success, Real Estate Mastery, and Legacy Protection. The inevitable path to command. We direct institutional architecture.">
    <meta name="keywords" content="E-Prosper Academy, Asset Protection Trusts, AI Business Success, Real Estate Mastery, Financial Intelligence, Legacy Preservation, Private Trust Architecture, Financial Direction, Strategic Diagnostic">
    <link rel="canonical" href="https://eprosper-academy.vercel.app/">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="author" content="E-Prosper Academy‚Ñ¢ Trust">

    <!-- SEO - Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="E-Prosper Academy‚Ñ¢ | Position Over Persuasion">
    <meta property="og:description" content="Stop surviving the system. Start directing your legacy with elite institutional intelligence. 37+ years of hard-won scars.">
    <meta property="og:url" content="https://eprosper-academy.vercel.app/">
    <meta property="og:image" content="https://cdn.abacus.ai/images/5cef3838-8f06-440f-ba73-723c798abb8a.png">
    <meta property="og:site_name" content="E-Prosper Academy‚Ñ¢">

    <!-- Favicon: REVERTED TO GRAD CAP -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéì</text></svg>">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FDFCFB; color: #1F2937; }
        body.modal-open { overflow: hidden; }
        .gradient-text { background: linear-gradient(90deg, #1E90FF, #00C49F); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .gradient-bg { background: linear-gradient(90deg, #1E90FF, #00C49F); }
        
        @keyframes cta-pulse {
            0% { box-shadow: 0 0 0 0 rgba(30, 144, 255, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(30, 144, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(30, 144, 255, 0); }
        }
        .cta-button-powerful { animation: cta-pulse 2s infinite; transition: all 0.3s ease; }

        .hero-video-container { position: relative; height: auto; min-height: 850px; overflow: hidden; display: flex; align-items: center; justify-content: center; background-color: #000; }
        .hero-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; transform: translate(-50%, -50%); object-fit: cover; opacity: 0.55; z-index: 0; }
        .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.85) 100%); z-index: 1; }
        .hero-content { position: relative; z-index: 2; color: white; text-align: center; padding: 140px 1.5rem 100px 1.5rem; }

        /* NAVIGATION: SCROLL VISIBILITY PROTECTION */
        #header { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .header-scrolled { background-color: rgba(255, 255, 255, 0.98); backdrop-filter: blur(15px); border-bottom: 1px solid #E5E7EB; padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .header-scrolled .nav-link, .header-scrolled .brand-text { color: #111827 !important; text-shadow: none !important; }
        .header-scrolled .logo-container { background-color: transparent !important; border: 1px solid #e5e7eb; }

        .tab-button { padding: 0.85rem 1.75rem; border-radius: 0.75rem; font-weight: 700; transition: all 0.2s; cursor: pointer; border: 2px solid #E5E7EB; display: flex; align-items: center; gap: 0.5rem; }
        .tab-active { background: #111827; color: white; border-color: #111827; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .tab-inactive { background-color: white; color: #6B7280; }

        .program-card { background-color: white; border-radius: 2rem; padding: 3.5rem; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.04); border: 1px solid #F3F4F6; }

        /* FIXED: Modal spacing architecture */
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.92); display: flex; align-items: flex-start; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; overflow-y: auto; padding: 3rem 1.5rem; }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-content { background-color: white; padding: 4rem 3.5rem; border-radius: 1.5rem; width: 100%; max-width: 900px; position: relative; margin: auto; }
        .modal-close-button { position: absolute; top: 1.5rem; right: 1.5rem; background: #F3F4F6; border: none; font-size: 1.5rem; width: 48px; height: 48px; border-radius: 50%; color: #111827; cursor: pointer; z-index: 1010; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }

        .engagement-input { width: 100%; padding: 1.75rem; border: 2px solid #E5E7EB; border-radius: 1rem; font-weight: 700; text-transform: uppercase; font-family: monospace; letter-spacing: 0.05em; font-size: 1.125rem; }
        .engagement-input:focus { border-color: #1E90FF; outline: none; box-shadow: 0 0 0 8px rgba(30, 144, 255, 0.05); }
        
        .chart-container { position: relative; width: 100%; max-width: 700px; margin: 0 auto; height: 350px; }
        .text-shadow { text-shadow: 0 4px 12px rgba(0,0,0,0.5); }
        .cursor-locked { cursor: not-allowed !important; }

        .institutional-alert { background: #FFFBEB; border-left: 10px solid #F59E0B; padding: 2.5rem; border-radius: 1.5rem; }

        .calendar-shield-container { position: relative; width: 100%; height: 640px; overflow: hidden; border-radius: 1rem; background: white; margin-bottom: 2rem; }
        #discovery-cal-inline { width: 100%; height: 720px; margin-top: -10px; }
        .cal-mask { position: absolute; bottom: 0; left: 0; right: 0; height: 45px; background: white; z-index: 50; pointer-events: none; }
    </style>
</head>
<body class="antialiased">

    <!-- HEADER: AUTO-CONTRAST SCROLL -->
    <header id="header" class="fixed top-0 left-0 right-0 z-50 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="#hero" class="flex items-center group">
                        <div class="logo-container p-2 rounded-xl bg-white/10 transition-all duration-500">
                            <img src="https://cdn.abacus.ai/images/5cef3838-8f06-440f-ba73-723c798abb8a.png" alt="Seal" class="h-10 sm:h-12 w-auto">
                        </div>
                        <span class="ml-4 font-black text-xl sm:text-2xl brand-text text-white tracking-tighter text-shadow transition-colors duration-500 uppercase font-black">E-Prosper Academy‚Ñ¢</span>
                    </a>
                </div>
                <nav class="hidden md:flex items-center space-x-12">
                    <a href="#hero" class="nav-link text-white hover:text-blue-400 font-extrabold transition-colors duration-500 text-sm uppercase tracking-widest font-black">Home</a>
                    <a href="#intelligence" class="nav-link text-white hover:text-blue-400 font-extrabold transition-colors duration-500 text-sm uppercase tracking-widest font-black">Intelligence</a>
                    <a href="#community" class="nav-link text-white hover:text-blue-400 font-extrabold transition-colors duration-500 text-sm uppercase tracking-widest font-black">Community</a>
                    <a href="#programs" class="nav-link text-white hover:text-blue-400 font-extrabold transition-colors duration-500 text-sm uppercase tracking-widest font-black">Our Tracks</a>
                    <a href="#programs" class="px-8 py-3 text-white font-black rounded-lg gradient-bg hover:scale-105 transition-all shadow-xl text-shadow uppercase text-xs tracking-widest font-black">Initiate Directive</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <!-- HERO -->
        <section id="hero" class="hero-video-container">
            <video autoplay muted loop playsinline class="hero-video">
                <source src="https://assets.mixkit.co/videos/preview/kit-city-traffic-at-night-from-above-4433-large.mp4" type="video/mp4" onerror="this.parentElement.style.backgroundImage='url(https://images.unsplash.com/photo-1449824913935-59a10b8d2000?auto=format&fit=crop&w=1920&q=80)'">
            </video>
            <div class="hero-overlay"></div>
            <div class="hero-content max-w-6xl">
                <h1 class="text-6xl md:text-8xl lg:text-9xl font-black leading-[0.85] tracking-tighter mb-10 uppercase drop-shadow-2xl font-black">
                    STOP CHASING.<br>
                    <span class="gradient-text">START DIRECTING.</span>
                </h1>
                <p class="mt-8 text-xl md:text-4xl font-light text-gray-100 max-w-5xl mx-auto leading-relaxed opacity-95 drop-shadow-md text-shadow text-justify md:text-center">
                    Power isn‚Äôt persuasion. It‚Äôs position. Acquire 37+ years of elite intelligence to build a fortress that ensures your future is an inevitability, not a guess.
                </p>
                <div class="mt-16">
                    <a href="#programs" class="cta-button-powerful px-16 py-8 text-3xl text-white font-black rounded-none gradient-bg shadow-2xl tracking-[0.2em] uppercase font-black">
                        Choose Your Track
                    </a>
                </div>
                <p class="mt-14 text-xs font-black tracking-[0.6em] text-white/60 uppercase italic">Elite Certainty ‚Ä¢ Strategic Dominance ‚Ä¢ Hard-Won Scars</p>
            </div>
        </section>

        <!-- THE INEVITABLE FRAME -->
        <section id="intelligence" class="py-32 bg-white border-b border-gray-100 relative overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-24 items-center">
                    <div>
                        <h2 class="text-5xl md:text-7xl font-black text-gray-900 leading-tight uppercase tracking-tighter mb-8 font-black font-black">The End of the Chase</h2>
                        <p class="text-xl text-gray-600 leading-relaxed font-medium mb-10 text-justify md:text-left">
                            Most spend their lives chasing markets, chasing clients, and chasing "the system." We don't teach you to run faster. We teach you to stop.
                            By directing assets, AI leverage, and private trust structures, you move from a player in the game to the director of the outcome.
                            <br><br>
                            <strong>This is the truth framed correctly for those who command their legacy.</strong>
                        </p>
                        
                        <div class="bg-gray-50 p-8 rounded-3xl border border-gray-100 shadow-sm text-center">
                            <p class="text-sm font-black uppercase tracking-widest text-gray-400 mb-6 italic font-black font-black">Legacy Retention Index: System vs Command Logic</p>
                            <div class="chart-container">
                                <canvas id="outcomeChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-900 p-16 rounded-[3rem] text-center shadow-2xl border-t-8 border-blue-500 relative">
                        <div class="relative z-10 text-white">
                            <div class="bg-blue-600/20 rounded-full w-56 h-56 flex items-center justify-center mx-auto mb-10 border border-blue-500/30 shadow-inner">
                               <span class="text-8xl font-black gradient-text font-black font-black">37+</span>
                            </div>
                            <h3 class="text-4xl font-black uppercase tracking-widest mb-4 font-black font-black">Years of Authority</h3>
                            <p class="text-blue-400 font-black uppercase text-base tracking-[0.5em] font-black font-black">Position Precedes Power</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TRACKS -->
        <section id="programs" class="py-32 bg-[#F9FAF9]">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-24">
                    <h2 class="text-5xl md:text-8xl font-black text-gray-900 uppercase tracking-tighter mb-6 font-black font-black">Command Your Position</h2>
                    <p class="text-xl text-gray-500 font-black uppercase tracking-[0.4em] font-black font-black">The system waits for no one. build your fortress.</p>
                </div>

                <div class="max-w-6xl mx-auto">
                    <nav class="flex flex-wrap justify-center gap-6 mb-24">
                        <button class="tab-button tab-active text-base uppercase font-black font-black" data-tab="ai">ü§ñ Online & AI Success</button>
                        <button class="tab-button tab-inactive text-base uppercase font-black font-black" data-tab="re">üè† Real Estate Mastery</button>
                        <button class="tab-button tab-inactive border-2 border-red-600 shadow-2xl text-base font-black uppercase font-black font-black" data-tab="trusts">üõ°Ô∏è Legacy Protection</button>
                    </nav>

                    <div id="ai" class="tab-content program-card transition-all duration-500">
                        <h3 class="text-5xl font-black text-gray-900 mb-8 uppercase tracking-tighter text-blue-600 font-black font-black">Online & AI Success Protocol</h3>
                        <p class="text-gray-600 mb-14 text-2xl leading-relaxed font-medium">
                            Turn skill into income without begging for attention. We weaponize automation to replace your time with high-velocity AI output. 
                            <strong>Outcome: Absolute scalability.</strong>
                        </p>
                        <button class="enroll-button cta-button-powerful px-14 py-7 text-2xl text-white font-black rounded-2xl gradient-bg shadow-2xl uppercase tracking-widest font-black font-black" data-program="Online & AI Success Protocol" data-donation="497">Initiate Protocol - $497 Contribution</button>
                    </div>

                    <div id="re" class="tab-content program-card hidden transition-all duration-500">
                        <h3 class="text-5xl font-black text-gray-900 mb-8 uppercase tracking-tighter text-blue-600 font-black font-black">Real Estate Mastery Blueprint</h3>
                        <p class="text-gray-600 mb-14 text-2xl leading-relaxed font-medium">
                            Convert capital into cashflow and control. Use our 37-year blueprint to find, fund, and dominate local markets. 
                            <strong>Outcome: Untouchable cashflow dominance.</strong>
                        </p>
                        <button class="enroll-button cta-button-powerful px-14 py-7 text-2xl text-white font-black rounded-2xl gradient-bg shadow-2xl uppercase tracking-widest font-black font-black" data-program="Real Estate Mastery Protocol" data-donation="997">Secure Access - $997 Contribution</button>
                    </div>

                    <div id="trusts" class="tab-content program-card hidden transition-all duration-500">
                        <h3 class="text-5xl font-black text-gray-900 mb-8 uppercase tracking-tighter text-red-600 font-black font-black">Legacy Protection Discovery</h3>
                        <p class="text-gray-600 mb-12 text-2xl leading-relaxed font-medium">
                             Discover the protocols used by the global elite to structure private trusts and shield legacy from institutional erosion.
                        </p>
                        
                        <div class="institutional-alert mb-14">
                            <div class="flex items-start gap-8">
                                <div class="bg-amber-100 text-amber-600 p-6 rounded-full text-5xl shadow-inner shrink-0 font-bold font-black">üö©</div>
                                <div>
                                    <p class="text-amber-900 font-black text-3xl mb-4 uppercase tracking-tighter font-black font-black">Strategic Diagnostic Engagement</p>
                                    <div class="space-y-4 text-amber-800 text-xl leading-relaxed font-bold italic">
                                        <p>‚úÖ THIS IS NOT A COURSE. You are requesting 60 minutes of direct tactical analysis with the Director to discuss your unique standing.</p>
                                        <p>‚úÖ THE $500 ALIGNMENT CONTRIBUTION. This contribution secures your time slot for analysis and is NOT part of future implementation requirements.</p>
                                        <p>‚úÖ MANDATORY NOTICE: Significant resource commitment is required if accepted for full institutional tier implementation.</p>
                                    </div>
                                    <div class="mt-8 pt-8 border-t-2 border-amber-200/50">
                                        <p class="text-red-700 font-black text-sm uppercase tracking-[0.4em] font-black font-black">
                                            ‚ö†Ô∏è CANCELLATION FORFEITURE: NO RECOVERY. IF YOU CANCEL, THE CONTRIBUTION IS FORFEIT. RESCHEDULING REQUIRES A NEW CONTRIBUTION.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-center">
                            <button class="enroll-button cta-button-powerful px-16 py-8 text-2xl text-white font-black rounded-2xl bg-red-600 shadow-2xl hover:bg-red-700 transition-colors uppercase tracking-widest font-black font-black font-black" data-program="Legacy Protection Diagnostic" data-donation="500">Initiate Tactical Directive - $500 Donation</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- COMMUNITY -->
        <section id="community" class="py-32 bg-white">
            <div class="max-w-7xl mx-auto px-4 text-center">
                <div class="max-w-4xl mx-auto mb-24">
                    <h2 class="text-5xl md:text-8xl font-black text-gray-900 mb-8 uppercase tracking-tighter font-black font-black">The Inner Circle</h2>
                    <p class="text-2xl text-gray-500 leading-relaxed font-black uppercase tracking-[0.4em] font-black font-black">We do not persuade. we select.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-16 text-left">
                    <div class="bg-gray-50 p-14 border-t-8 border-blue-500 shadow-2xl rounded-3xl group">
                        <span class="text-7xl block mb-10 group-hover:scale-110 transition-transform">ü§ù</span>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter font-black font-black font-black">Peer Alignment</h3>
                        <p class="text-gray-500 font-bold uppercase text-sm tracking-widest leading-loose">Connect with those who built their own empires.</p>
                    </div>
                    
                    <div class="bg-gray-50 p-14 border-t-8 border-indigo-500 shadow-2xl rounded-3xl group">
                        <span class="text-7xl block mb-10 group-hover:scale-110 transition-transform">üóìÔ∏è</span>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter font-black font-black font-black">Directive Pulse</h3>
                        <p class="text-gray-500 font-bold uppercase text-sm tracking-widest leading-loose">Live discussions focused on practical application.</p>
                    </div>
                    
                    <div class="bg-gray-50 p-14 border-t-8 border-teal-500 shadow-2xl rounded-3xl group">
                        <span class="text-7xl block mb-10 group-hover:scale-110 transition-transform font-bold">üí°</span>
                        <h3 class="text-2xl font-black mb-4 uppercase tracking-tighter font-black font-black font-black">Institutional Ascension</h3>
                        <p class="text-gray-500 font-bold uppercase text-sm tracking-widest leading-loose">Alignment opportunities exclusively available to graduates who complete all core protocols.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-900 text-white py-24">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="bg-white p-3 rounded-2xl inline-block mb-14 shadow-lg">
                <img src="https://cdn.abacus.ai/images/5cef3838-8f06-440f-ba73-723c798abb8a.png" alt="Seal" class="h-24 w-auto">
            </div>
            
            <p class="text-gray-400 font-bold text-sm tracking-[0.1em] uppercase mb-4 font-black">
                &copy; 2026 E-Prosper Academy‚Ñ¢ Trust. All Rights Reserved.
            </p>
            
            <p class="text-sm text-gray-600 mt-4 mb-16 uppercase tracking-[0.5em] font-black italic font-black">Total Control and Financial Inevitability</p>
            
            <div class="max-w-5xl mx-auto px-4 mb-16 border-t border-gray-800 pt-16">
                <p class="text-[10px] text-gray-500 leading-relaxed uppercase tracking-wider font-bold text-justify md:text-center font-black font-black">
                    Important Institutional Disclosure: All content and discussions within E-Prosper Academy‚Ñ¢ programs, community forums, and tactical directives are for educational and informational purposes only. No legal, financial, tax, or investment advice is provided. The Academy makes no guarantees regarding specific financial success. All program enrollment contributions and diagnostic alignment contributions are final. There will be no refunds at anytime for any amounts donated due to the immediate intellectual nature of the assets provided. By engaging, donors acknowledge and agree that time allocations for diagnostics are finite and non-recoverable upon cancellation. WE DO NOT SELL PRODUCTS; WE DIRECT INSTITUTIONAL INTELLIGENCE.
                </p>
            </div>

            <div class="flex flex-wrap justify-center gap-14 text-[10px] text-gray-500 font-black uppercase tracking-widest font-black font-black">
                <button onclick="window.openLegalModal('privacy')" class="hover:text-white transition-all underline underline-offset-8">Privacy Policy</button>
                <button onclick="window.openLegalModal('terms')" class="hover:text-white transition-all underline underline-offset-8">Terms of Engagement</button>
                <button onclick="window.openLegalModal('legal')" class="hover:text-white transition-all underline underline-offset-8 font-black font-black font-black">Institutional Disclaimer</button>
            </div>
        </div>
    </footer>

    <!-- COMMAND CENTER ENTRY -->
    <button id="adminPortalBtn" class="fixed bottom-10 right-10 z-[100] hidden bg-black text-white px-10 py-5 rounded-full font-black text-xs shadow-2xl uppercase tracking-widest border border-gray-800 hover:scale-110 transition-all border-blue-500/50 font-black font-black font-black">Command Center</button>

    <!-- MODALS -->
    <div id="purchaseModal" class="modal-overlay">
        <div class="modal-content">
            <button id="closePurchaseModal" class="modal-close-button" aria-label="Close">&times;</button>
            <h2 class="text-4xl font-black mb-10 text-gray-900 uppercase tracking-tighter text-center font-black font-black font-black">Institutional Alignment Protocol</h2>
            <p id="modalProgramName" class="text-3xl font-black gradient-text mb-2 text-center uppercase font-black font-black font-black"></p>
            <p id="modalPrice" class="text-gray-400 text-xl mb-12 font-black text-center uppercase tracking-widest font-black font-black font-black"></p>
            
            <div id="modalDescription" class="bg-gray-50 p-10 border-l-[12px] border-blue-500 text-lg mb-12 leading-relaxed text-gray-900 max-h-80 overflow-y-auto font-bold uppercase tracking-tight"></div>

            <div class="flex items-start mb-14 bg-red-50 p-8 rounded-2xl border border-red-100 font-black">
                <div class="flex items-center h-5"><input id="disclaimerCheckbox" type="checkbox" class="w-10 h-10 text-blue-600 border-gray-300 rounded cursor-pointer transition-all"></div>
                <div class="ml-6 text-sm">
                    <label for="disclaimerCheckbox" class="font-black text-gray-900 cursor-pointer select-none leading-relaxed uppercase tracking-widest block text-xs font-black font-black font-black">
                        I ACKNOWLEDGE THE INSTITUTIONAL TERMS, INCLUDING THE STRICT <span class="underline decoration-red-600 text-red-600 decoration-4">CONTRIBUTION FINALITY</span> AND <span class="underline text-red-600 decoration-4 text-red-600">NO CANCELLATION RECOVERY</span> POLICIES.
                    </label>
                </div>
            </div>

            <button id="proceedToIntakeBtn" class="w-full block text-center py-8 text-2xl text-white font-black rounded-2xl gradient-bg shadow-2xl opacity-50 cursor-locked transition-all uppercase tracking-[0.2em] font-black font-black font-black">Begin Qualification</button>
        </div>
    </div>

    <!-- INTAKE -->
    <div id="intakeModal" class="modal-overlay">
        <div class="modal-content">
            <button id="closeIntakeModal" class="modal-close-button" aria-label="Close">&times;</button>
            <h2 class="text-5xl font-black mb-4 text-gray-900 uppercase tracking-tighter text-center font-black font-black font-black font-black">Strategic Qualification</h2>
            <p class="text-red-600 font-black mb-14 uppercase tracking-[0.3em] text-sm italic text-center font-black font-black font-black">Identity vetting protocol.</p>
            <form id="qualificationForm" class="space-y-10">
                <div><label class="block text-xs font-black uppercase text-gray-400 mb-4 tracking-widest font-black font-black font-black">Full Legal Identity</label><input type="text" id="intakeName" placeholder="ENTER REAL NAME" required minlength="3" pattern="^[a-zA-Z\s]{3,40}$" title="Vetting requires a real legal name." class="engagement-input"></div>
                <div><label class="block text-xs font-black uppercase text-gray-400 mb-4 tracking-widest font-black font-black font-black">Secure Hub Address</label><input type="email" id="intakeEmail" placeholder="REAL SECURE EMAIL" required class="engagement-input"></div>
                <div><label class="block text-xs font-black uppercase text-gray-400 mb-4 tracking-widest font-black font-black font-black">Direct Tactical Contact</label><input type="tel" id="intakePhone" placeholder="PH-CONTACT (10-15 DIGITS)" required pattern="[0-9]{10,15}" title="Identity vetting requires a valid real phone number." class="engagement-input"></div>
                <p id="intakeError" class="text-red-500 text-sm mt-8 font-black hidden text-center uppercase tracking-widest font-black font-black font-black font-black">Identity verification requires real, valid identification fields.</p>
                <button type="submit" id="saveAndProceedBtn" class="w-full block text-center py-8 mt-14 text-2xl text-white font-black rounded-xl gradient-bg shadow-2xl uppercase tracking-[0.2em] hover:scale-105 transition-transform font-black font-black font-black font-black">Qualify & Proceed</button>
            </form>
        </div>
    </div>

    <!-- PAYMENT -->
    <div id="paymentModal" class="modal-overlay">
        <div class="modal-content text-center">
            <button id="closePaymentModal" class="modal-close-button">&times;</button>
            <h2 class="text-5xl font-black mb-10 text-gray-900 uppercase tracking-tighter font-black font-black font-black font-black">Finalize Commitment</h2>
            <div class="mb-14 text-center"><p id="finalProgramName" class="text-2xl font-black text-gray-900 mb-4 uppercase font-black font-black font-black"></p><p id="finalProgramPrice" class="text-6xl font-black gradient-text tracking-tighter font-black font-black font-black"></p></div>
            
            <div class="bg-blue-50 p-12 rounded-[3rem] mb-14 border border-blue-100 shadow-inner text-blue-900 font-black font-black font-black"><p class="mb-8 uppercase tracking-[0.3em] text-xs font-black font-black font-black font-black font-black font-black font-black">Step 1: Open Secure Contribution Gateway</p><a id="paypalFinalBtn" href="#" target="_blank" class="w-full block text-center py-7 text-2xl text-white font-black rounded-2xl bg-blue-600 shadow-xl hover:bg-blue-700 transition-all uppercase tracking-widest font-black font-black font-black font-black">Open PayPal Gateway</a></div>
            
            <div id="verificationSection" class="mb-14 opacity-40">
                <p class="text-gray-800 font-black mb-10 uppercase tracking-[0.3em] text-xs text-center font-black font-black font-black font-black font-black">Step 2: Verify Contribution ID</p>
                <input type="text" id="paypalTransactionId" placeholder="17-CHARACTER ID" class="engagement-input cursor-locked mb-8 text-center font-bold font-black font-black" maxlength="17" disabled>
                <p id="idFormatError" class="text-red-500 text-xs mt-2 font-black hidden uppercase tracking-widest font-black font-black font-black">VERIFY the EXACT transaction id.</p>
                <button id="verifyFinalBtn" class="cta-button-powerful w-full block text-center py-7 text-2xl text-white font-black rounded-2xl gradient-bg shadow-2xl opacity-50 cursor-locked uppercase tracking-widest font-black font-black font-black font-black">Verify & Finalize</button>
            </div>
            <button id="cancelPaymentBtn" class="text-gray-400 font-black hover:text-gray-800 transition-colors uppercase tracking-[0.3em] text-xs font-black font-black font-black font-black">Abort Directive</button>
        </div>
    </div>

    <!-- CALENDAR -->
    <div id="calendarModal" class="modal-overlay">
        <div class="modal-content !max-w-6xl">
            <button id="closeCalendarModal" class="modal-close-button">&times;</button>
            <h2 class="text-5xl font-black mb-4 text-gray-900 text-center uppercase tracking-tighter font-black font-black font-black font-black font-black">Diagnostic Schedule</h2>
            <p class="text-center text-gray-500 font-black uppercase tracking-widest mb-10 italic font-bold font-black font-black font-black">Allocate your tactical hour slot.</p>
            <div class="calendar-shield-container">
                <div id="discovery-cal-inline"></div>
                <div class="cal-mask"></div>
            </div>
        </div>
    </div>

    <!-- SUCCESS -->
    <div id="successModal" class="modal-overlay"><div class="modal-content text-center"><button id="closeSuccessModal" class="modal-close-button">&times;</button><div class="bg-green-100 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-10 text-6xl shadow-inner border-4 border-white text-green-600 font-black font-black font-black font-black">‚úÖ</div><h2 class="text-5xl font-black text-gray-900 uppercase mb-8 tracking-tighter text-center uppercase font-black font-black font-black font-black font-black font-black">Position Secured</h2><p class="text-2xl text-gray-500 mb-14 leading-relaxed font-black uppercase tracking-tighter text-center font-black font-black font-black font-black">Data beamed to the Citadel. Confirmation dispatched within 24 hours.</p><button class="close-success-btn px-16 py-8 text-2xl text-white font-black rounded-2xl gradient-bg shadow-2xl uppercase tracking-widest font-black font-black font-black font-black font-black font-black">Return to Academy</button></div></div>
    <!-- LEGAL MODAL -->
    <div id="legalModal" class="modal-overlay"><div class="modal-content"><button id="closeLegalModal" class="modal-close-button">&times;</button><div id="legalModalBody" class="font-black text-gray-900 uppercase leading-relaxed text-lg font-black italic font-black font-black font-black font-black font-black"></div></div></div>
    <!-- ADMIN -->
    <div id="adminPortalModal" class="modal-overlay"><div class="modal-content !max-w-7xl"><button id="closeAdminModal" class="modal-close-button">&times;</button><h2 class="text-5xl font-black mb-4 text-gray-900 uppercase tracking-tighter font-black font-black font-black font-black font-black font-black font-black font-black">Command Center</h2><div class="admin-table-container mt-10 overflow-hidden rounded-2xl border border-gray-800 shadow-2xl"><table class="admin-table"><thead><tr><th>Time</th><th>Identity</th><th>Hub</th><th>Contact</th><th>Track</th><th>ID</th><th>Status</th></tr></thead><tbody id="adminLeadsTableBody"></tbody></table></div></div></div>

    <script type="module">
        // DISABLE RIGHT-CLICK
        document.addEventListener('contextmenu', (e) => e.preventDefault());

        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, updateDoc, doc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 80) header.classList.add('header-scrolled');
            else header.classList.remove('header-scrolled');
        });

        const legalData = { 
            privacy: `<h2>Privacy Hub</h2><p class='mt-4 font-black'>Institutional donor protection. Identity logs are encrypted and never sold.</p>`, 
            terms: `<h2>Terms of Engagement</h2><p class='mt-4 font-black'>ALL CONTRIBUTIONS ARE FINAL. NO RECOVERY FOR CANCELLATIONS. TIME ALLOCATION IS FINITE.</p>`, 
            legal: `<h2>Institutional Disclaimer</h2><p class='mt-4 uppercase font-black'>STRATEGIC INTELLIGENCE ONLY. THE ACADEMY PROVIDES THE ARCHITECTURE; EXECUTION IS YOUR RESPONSIBILITY. NO FINANCIAL, LEGAL, TAX, OR INVESTMENT ADVICE GIVEN.</p>` 
        };
        window.openLegalModal = (type) => { 
            const body = document.getElementById('legalModalBody');
            const modal = document.getElementById('legalModal');
            if (body && modal) { body.innerHTML = legalData[type] || '<p>Hub Unavailable.</p>'; modal.classList.add('active'); document.body.classList.add('modal-open'); }
        };

        let db = null, auth = null, appId = 'eprosper-leads', user = null;
        try {
            const configStr = typeof __firebase_config !== 'undefined' ? __firebase_config : null;
            if (configStr) {
                const firebaseConfig = JSON.parse(configStr);
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app); db = getFirestore(app);
                appId = typeof __app_id !== 'undefined' ? __app_id : 'eprosper-leads';
                const initAuth = async () => {
                    const token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
                    if (token) await signInWithCustomToken(auth, token); else await signInAnonymously(auth);
                };
                initAuth();
                onAuthStateChanged(auth, (u) => { user = u; if (user && isAdmin) setupAdminListener(); });
            }
        } catch (e) {}

        const isAdmin = new URLSearchParams(window.location.search).get('admin') === 'true';
        if (isAdmin) { const btn = document.getElementById('adminPortalBtn'); if (btn) btn.classList.remove('hidden'); }

        const initOutcomeChart = () => {
            const ctx = document.getElementById('outcomeChart');
            if (!ctx) return;
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['System Chase', 'Legacy Directing'],
                    datasets: [{
                        label: 'Retention Index',
                        data: [15, 95],
                        backgroundColor: ['#E5E7EB', '#1E90FF'],
                        borderRadius: 15
                    }]
                },
                options: { maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false }, ticks: { color: '#111827', font: { weight: '900', size: 14 } } } } }
            });
        };

        document.addEventListener('DOMContentLoaded', () => {
            initOutcomeChart();
            const enrollButtons = document.querySelectorAll('.enroll-button'), purchaseModal = document.getElementById('purchaseModal'), intakeModal = document.getElementById('intakeModal'), paymentModal = document.getElementById('paymentModal'), successModal = document.getElementById('successModal'), adminPortalModal = document.getElementById('adminPortalModal'), disclaimerCheckbox = document.getElementById('disclaimerCheckbox'), proceedToIntakeBtn = document.getElementById('proceedToIntakeBtn'), qualificationForm = document.getElementById('qualificationForm'), paypalFinalBtn = document.getElementById('paypalFinalBtn'), transactionInput = document.getElementById('paypalTransactionId'), idFormatError = document.getElementById('idFormatError'), verifyFinalBtn = document.getElementById('verifyFinalBtn'), verificationSection = document.getElementById('verificationSection');
            let isPaypalClicked = false, currentProgram = '', currentLeadId = null;

            const closeAll = () => { [purchaseModal, intakeModal, paymentModal, document.getElementById('calendarModal'), successModal, adminPortalModal, document.getElementById('legalModal')].forEach(m => { if (m) m.classList.remove('active'); }); document.body.classList.remove('modal-open'); };
            ['closePurchaseModal', 'closeIntakeModal', 'closePaymentModal', 'closeCalendarModal', 'closeSuccessModal', 'closeAdminModal', 'closeLegalModal'].forEach(id => { const b = document.getElementById(id); if (b) b.onclick = closeAll; });
            const successReturnBtn = document.querySelector('.close-success-btn'); if (successReturnBtn) successReturnBtn.onclick = closeAll;

            enrollButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    currentProgram = btn.dataset.program;
                    const donation = btn.dataset.donation;
                    document.getElementById('modalProgramName').textContent = currentProgram;
                    document.getElementById('finalProgramName').textContent = currentProgram;
                    document.getElementById('finalProgramPrice').textContent = `$${donation}`;
                    if (paypalFinalBtn) paypalFinalBtn.href = `https://paypal.me/sellorbuy/${donation}`;
                    document.getElementById('modalPrice').textContent = `Institutional Contribution: $${donation}`;
                    
                    const desc = document.getElementById('modalDescription');
                    if (currentProgram.includes('Diagnostic')) {
                         desc.innerHTML = `
                            <p class='mb-8 text-red-600 underline font-black text-2xl tracking-tighter uppercase font-black font-black font-black'>‚ö†Ô∏è STRATEGIC NOTICE: NOT A COURSE.</p>
                            <p class='mb-4 font-black font-black'>1. YOU ARE REQUESTING 60 MINUTES OF DIRECT TACTICAL ANALYSIS WITH THE DIRECTOR TO DISCOVER THE PROTECTIVE PROTOCOLS OF THE ELITE.</p>
                            <p class='mb-4 font-black font-black'>2. THE $500 ALIGNMENT PROTOCOL SECURES TIME AND ANALYSIS ONLY. THIS IS COMPLETELY INDEPENDENT OF ANY FUTURE IMPLEMENTATION REQUIREMENTS.</p>
                            <p class='mb-8 bg-red-900 text-white p-8 rounded-3xl uppercase font-black border-4 border-red-500 italic font-black font-black'>3. NO-SHOW POLICY: FAILURE TO ATTEND RESULTS IN IMMEDIATE DONATION LOSS. RE-SCHEDULING REQUIRES A NEW FILTRATION CONTRIBUTION.</p>
                            <p class='mb-4 font-black font-black'>4. IMPLEMENTATION: ADMISSION INTO THE FULL ELITE PROTECTION TIER REQUIRES SEPARATE RESOURCE COMMITMENT IF VETTING IS SUCCESSFUL.</p>
                            <p class='font-black uppercase text-gray-900 border-t-4 border-gray-300 pt-8 font-black font-black font-black'>5. ALL CONTRIBUTIONS ARE FINAL. WE DO NOT SELL PRODUCTS; WE DIRECT INSTITUTIONAL INTELLIGENCE.</p>
                        `;
                    } else {
                        desc.innerHTML = `
                            <p class='mb-8 font-black uppercase text-blue-600 underline text-2xl tracking-tighter font-black font-black font-black font-black font-black'>Strategic Access Protocol:</p>
                            <p class='mb-4 font-black font-black font-black'>1. Blueprint access provided upon institutional identity verification.</p>
                            <p class='mb-4 font-black font-black font-black'>2. Educational intelligence only. Execution determines the outcome.</p>
                            <p class='font-black uppercase text-gray-900 border-t-4 border-gray-300 pt-8 font-black font-black font-black font-black font-black'>3. NO REFUNDS. ALL CONTRIBUTIONS ARE PERMANENT.</p>
                        `;
                    }
                    
                    if (disclaimerCheckbox) disclaimerCheckbox.checked = false; 
                    isPaypalClicked = false; 
                    if (verificationSection) verificationSection.classList.add('opacity-40'); 
                    if (transactionInput) { transactionInput.disabled = true; transactionInput.classList.add('cursor-locked'); transactionInput.value = ''; }
                    if (idFormatError) idFormatError.classList.add('hidden');
                    if (proceedToIntakeBtn) { proceedToIntakeBtn.classList.replace('opacity-100', 'opacity-50'); proceedToIntakeBtn.classList.add('cursor-locked'); }
                    if (purchaseModal) purchaseModal.classList.add('active'); 
                    document.body.classList.add('modal-open');
                });
            });

            if (disclaimerCheckbox && proceedToIntakeBtn) {
                disclaimerCheckbox.addEventListener('change', function() { proceedToIntakeBtn.classList.toggle('opacity-50', !this.checked); proceedToIntakeBtn.classList.toggle('cursor-locked', !this.checked); });
                proceedToIntakeBtn.addEventListener('click', () => { if (disclaimerCheckbox.checked) { purchaseModal.classList.remove('active'); intakeModal.classList.add('active'); } });
            }

            qualificationForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('intakeName').value.trim(), email = document.getElementById('intakeEmail').value.trim(), phone = document.getElementById('intakePhone').value.trim();
                if (db && user) { try { const docRef = await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'leads'), { name, email, phone, program: currentProgram, status: 'Alignment Pending', timestamp: serverTimestamp() }); currentLeadId = docRef.id; } catch (e) {} }
                intakeModal.classList.remove('active'); paymentModal.classList.add('active');
            });

            if (paypalFinalBtn) paypalFinalBtn.addEventListener('click', () => { isPaypalClicked = true; if (verificationSection) verificationSection.classList.remove('opacity-40'); if (transactionInput) { transactionInput.disabled = false; transactionInput.classList.remove('cursor-locked'); } });
            
            if (transactionInput) {
                transactionInput.addEventListener('input', function() { 
                    this.value = this.value.toUpperCase().replace(/[^A-Z0-9]/g, ''); 
                    const val = this.value;
                    const isLenValid = val.length === 17;
                    const hasLetters = /[A-Z]/.test(val);
                    const hasNumbers = /[0-9]/.test(val);
                    const isValid = isLenValid && hasLetters && hasNumbers && isPaypalClicked; 
                    if (verifyFinalBtn) { verifyFinalBtn.classList.toggle('opacity-50', !isValid); verifyFinalBtn.classList.toggle('cursor-locked', !isValid); }
                    if (isLenValid && (!hasLetters || !hasNumbers)) idFormatError.classList.remove('hidden');
                    else idFormatError.classList.add('hidden');
                });
            }

            if (verifyFinalBtn) {
                verifyFinalBtn.addEventListener('click', async () => {
                    const val = transactionInput.value;
                    const isLenValid = val.length === 17;
                    const hasLetters = /[A-Z]/.test(val);
                    const hasNumbers = /[0-9]/.test(val);
                    if (!isPaypalClicked || !isLenValid || !hasLetters || !hasNumbers) return;
                    if (db && currentLeadId) { try { const leadRef = doc(db, 'artifacts', appId, 'public', 'data', 'leads', currentLeadId); await updateDoc(leadRef, { transactionId: val, status: 'Validation Queue' }); } catch(e) {} }
                    paymentModal.classList.remove('active');
                    if (currentProgram.toLowerCase().includes('diagnostic') || currentProgram.toLowerCase().includes('protection')) {
                        const calModal = document.getElementById('calendarModal'); if (calModal) calModal.classList.add('active');
                        (function(C,A,L){let p=function(a,ar){a.q.push(ar);};let d=C.document;C.Cal=C.Cal||function(){let cal=C.Cal;let ar=arguments;if(!cal.loaded){cal.ns={};cal.q=cal.q||[];d.head.appendChild(d.createElement("script")).src=A;cal.loaded=true;}if(ar[0]===L){const api=function(){p(api,arguments);};const namespace=ar[1];api.q=api.q||[];if(typeof namespace==="string"){cal.ns[namespace]=cal.ns[namespace]||api;p(cal.ns[namespace],ar);p(cal,["initNamespace",namespace]);}else p(cal,ar);return;}p(cal,ar);};})(window,"https://app.cal.com/embed/embed.js","init");
                        Cal("init", "consultation", {origin:"https://cal.com"});
                        Cal.ns["consultation"]("inline", { elementOrSelector:"#discovery-cal-inline", config: {"layout":"month_view", "hideEventTypeDetails": true}, calLink: "revenue-booster/diagnostic-engagement-strategic-direction" });
                    } else if (successModal) successModal.classList.add('active');
                });
            }

            function setupAdminListener() { if(!db) return; onSnapshot(collection(db, 'artifacts', appId, 'public', 'data', 'leads'), (snap) => { const tbody = document.getElementById('adminLeadsTableBody'); if (!tbody) return; tbody.innerHTML = ''; const leads = []; snap.forEach(d => { const l = {id: d.id, ...d.data()}; const r = document.createElement('tr'); r.innerHTML = `<td class="text-xs text-gray-400 font-bold font-mono font-black font-black font-black">${l.timestamp?.toDate().toLocaleString() || '---'}</td><td class="font-black text-gray-900 font-black">${l.name}</td><td>${l.email}</td><td class="font-mono font-black font-black font-black font-black font-black">${l.phone}</td><td class="text-[10px] font-black uppercase text-blue-600 font-black font-black font-black">${l.program}</td><td class="font-mono text-xs font-black font-black font-black font-black font-black">${l.transactionId || '---'}</td><td><span class="px-2 py-1 rounded text-[10px] font-black uppercase ${l.status === 'Validation Queue' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'} font-black font-black font-black">${l.status}</span></td>`; tbody.appendChild(r); }); }); }
            if (document.getElementById('adminPortalBtn')) document.getElementById('adminPortalBtn').onclick = () => { if (adminPortalModal) adminPortalModal.classList.add('active'); };
            window.onclick = (e) => { if (e.target.classList.contains('modal-overlay')) closeAll(); };
            document.querySelectorAll('.tab-button').forEach(btn => { btn.onclick = () => { document.querySelectorAll('.tab-button').forEach(b => b.classList.replace('tab-active', 'tab-inactive')); btn.classList.replace('tab-inactive', 'tab-active'); document.querySelectorAll('.tab-content').forEach(c => c.classList.toggle('hidden', c.id !== btn.dataset.tab)); }; });
        });
    </script>
</body>
</html>
